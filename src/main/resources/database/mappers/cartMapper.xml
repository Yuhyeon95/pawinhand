<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

    
<mapper namespace="com.ph4.s1.cart.CartDAO">

<select id="getCartList" resultType="CartVO" parameterType="Pager">
     select * from
    (select rownum R, N.* from 
    (select * from cart order by cartnum desc N)
    where R between #{startRow} and #{lastRow}
</select>

<insert id="setCartInsert" parameterType="CartVO" >
	<selectKey keyProperty="cartNum" resultType="Long" order="BEFORE">
			select cart_seq.nextval from dual
	</selectKey>
	insert into cart values(#{id}, #{cartNum}, #{product_num}, #{amount}, #{totalPrice})
</insert>

</mapper>
